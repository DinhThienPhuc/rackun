(()=>{"use strict";const{readFileSync:e,writeFileSync:r}=require("fs"),{INSTALL_COMMAND:s}=require("../utils/constants.js"),t=require("./create-aliases.js"),{execCommand:a}=require("../utils/helpers.js");module.exports=async()=>{await a("npm i -g rackun","Installing latest rackun version");const i="package.json",n=e(i),c=JSON.parse(n),p={...c?.scripts??{}};p.prepare?p.prepare?.includes(s)||(p.prepare+=` && ${s}`):p.prepare=s,r(i,JSON.stringify({...c,scripts:p},0,/\t/.test(n)?"\t":2)+"\n"),await t()}})();